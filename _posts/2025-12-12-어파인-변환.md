---
title: "어파인 변환"
date: 2025-12-12 17:37:29 +0900
description: 기울어진 사진을 똑바로 변환해보자
categories: [Computer Science, Geometry] #[upper, lower]
tags: [cs] #must be lower case
math: true
mermaid: true
---

## 영상의 기하학 변환
영상에서의 기하학 변환은 화소의 공간적인 위치를 재배치하는 과정이며 회전, 크기 변경(스케일링), 평행이동 등이 있다.


* 회전: $$
\begin{bmatrix}x'\\y'\end{bmatrix}=\begin{bmatrix}cos\space\theta&-\space sin\space \theta\\sin\space \theta&cos\space \theta\end{bmatrix}\begin{bmatrix}x\\y\end{bmatrix}
$$  


* 평행이동: $$
\begin{bmatrix}x'\\y'\end{bmatrix}=\begin{bmatrix}x\\y\end{bmatrix}+\begin{bmatrix}t_x\\t_y\end{bmatrix}
$$


* 스케일링: $$
\begin{bmatrix}x'\\y'\end{bmatrix}=\begin{bmatrix}\alpha&0\\0&\beta\end{bmatrix}\begin{bmatrix}x\\y\end{bmatrix}
$$

* 전단
  * 수평: $$
  \begin{bmatrix}x'\\y'\end{bmatrix}=\begin{bmatrix}1&m\\0&1\end{bmatrix}\begin{bmatrix}x\\y\end{bmatrix}
  $$</br>
  * 수직:$$
  \begin{bmatrix}x'\\y'\end{bmatrix}=\begin{bmatrix}1&0\\m&1\end{bmatrix}\begin{bmatrix}x\\y\end{bmatrix}
  $$


## 어파인 변환
어파인 변환(Affine transformation)은 변환 뒤에도 길이의 비율과 평행의 관계가 유지되는 변환이며 회전, 스케일링, 평행이동 전단등이 속할 수 있다.

어파인 변환의 수식은 다음과 같다
$x' = f(x,y)=ax+by+c$<br>
$y' = f(x,y)=dx+ey+f$

위의 수식을 행렬로 변환하면 다음과 같이 정의 할 수 있다.
$$
\begin{bmatrix}x'\\y'\end{bmatrix}=\begin{bmatrix}a&b\\c&d\end{bmatrix}\begin{bmatrix}x\\y\end{bmatrix}+\begin{bmatrix}c\\f\end{bmatrix}=\begin{bmatrix}a&b&c\\d&e&f\end{bmatrix}\begin{bmatrix}x\\y\\1\end{bmatrix}
$$
<br>```위의 행렬을 통해서 기하학 변환을 수행할 수 있다.```

* 어파인 변환의 특징
  1. 직선 보존
  2. 평행선 보존
  3. 길이 비율 보존
  4. 초기좌표, 목적좌표를 알아야함 (점 3개가 어디로 이동 했는지) 
